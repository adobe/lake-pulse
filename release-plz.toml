# Copyright 2025 Adobe. All rights reserved.
# This file is licensed to you under the Apache License,
# Version 2.0 (http://www.apache.org/licenses/LICENSE-2.0)
# or the MIT license (http://opensource.org/licenses/MIT),
# at your option.
#
# Unless required by applicable law or agreed to in writing,
# this software is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OR REPRESENTATIONS OF ANY KIND, either express or
# implied. See the LICENSE-MIT and LICENSE-APACHE files for the
# specific language governing permissions and limitations under
# each license.

[workspace]
# Run semver checks to catch accidental breaking changes
semver_check = true

# Add a label to the Release PR for visibility
pr_labels = ["release"]

[changelog]
# Keep the existing changelog header format
header = """# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]
"""

# Protect breaking changes from being filtered out
protect_breaking_commits = true

# Map conventional commit types to changelog sections
commit_parsers = [
    { message = "^feat", group = "Added" },
    { message = "^fix", group = "Fixed" },
    { message = "^docs", group = "Documentation" },
    { message = "^perf", group = "Performance" },
    { message = "^refactor", group = "Changed" },
    { message = "^deps", group = "Dependencies" },
    # Skip non-user-facing changes from changelog
    { message = "^test", skip = true },
    { message = "^ci", skip = true },
    { message = "^chore", skip = true },
    { message = "^build", skip = true },
    { message = "^style", skip = true },
]

